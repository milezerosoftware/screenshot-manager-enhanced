apply plugin: 'fabric-loom'

loom {
    splitEnvironmentSourceSets()
}

repositories {
    mavenCentral()
    maven { url = "https://maven.shedaniel.me/" }
    maven { url = "https://maven.terraformersmc.com/" }
}

dependencies {
    // These must match the property names in versionProperties
    minecraft "com.mojang:minecraft:${project.minecraft_version}"
    mappings "net.fabricmc:yarn:${project.yarn_mappings}:v2"
    modImplementation "net.fabricmc:fabric-loader:${project.loader_version}"
    
    // Common mod dependencies
    modImplementation "me.shedaniel.cloth:cloth-config-fabric:${project.cloth_config_version}"
    modImplementation "com.terraformersmc:modmenu:${project.modmenu_version}"

    // Testing
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.2'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'

    // Apache Commons Imaging for Metadata
    implementation "org.apache.commons:commons-imaging:1.0.0-alpha5"
    include "org.apache.commons:commons-imaging:1.0.0-alpha5"
}

test {
    useJUnitPlatform()
}
